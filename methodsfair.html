<!DOCTYPE html>
<html>
  <head>
    <title>Methods Fair Interactive Data Visualisation</title>
    <meta charset="utf-8">
    <meta name="author" content="Réka Solymosi" />
    <link href="libs/remark-css/example.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/plotly-binding/plotly.js"></script>
    <script src="libs/typedarray/typedarray.min.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link href="libs/plotlyjs/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="libs/plotlyjs/plotly-latest.min.js"></script>
    <link href="libs/leaflet/leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet/leaflet.js"></script>
    <link href="libs/leafletfix/leafletfix.css" rel="stylesheet" />
    <link href="libs/leaflet-label/leaflet.label.css" rel="stylesheet" />
    <script src="libs/leaflet-label/leaflet.label.js"></script>
    <script src="libs/Proj4Leaflet/proj4-compressed.js"></script>
    <script src="libs/Proj4Leaflet/proj4leaflet.js"></script>
    <script src="libs/leaflet-binding/leaflet.js"></script>
    <script src="libs/leaflet-providers/leaflet-providers.js"></script>
    <script src="libs/leaflet-providers-plugin/leaflet-providers-plugin.js"></script>
    <link rel="stylesheet" href="my-theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# <p>Methods Fair<br />
Interactive Data Visualisation</p>
### Réka Solymosi
### 31-Oct-2017

---




&lt;style type="text/css"&gt;


code.r{
  font-size: 12px;
}

&lt;/style&gt;





### The grammar of graphics

![](https://raw.githubusercontent.com/maczokni/R-for-Criminologists/master/week2imgs/table.png)


[Wickham, H. (2010). A layered grammar of graphics. Journal of Computational and Graphical Statistics, 19(1), 3-28.](http://vita.had.co.nz/papers/layered-grammar.pdf)

---
### The grammar of graphics

![](https://raw.githubusercontent.com/maczokni/R-for-Criminologists/master/week2imgs/layers.png)



[Wickham, H. (2010). A layered grammar of graphics. Journal of Computational and Graphical Statistics, 19(1), 3-28.](http://vita.had.co.nz/papers/layered-grammar.pdf)
---
### The grammar of graphics

![](https://raw.githubusercontent.com/maczokni/R-for-Criminologists/master/week2imgs/combined.png)


[Wickham, H. (2010). A layered grammar of graphics. Journal of Computational and Graphical Statistics, 19(1), 3-28.](http://vita.had.co.nz/papers/layered-grammar.pdf)

---
### Creating a ggplot


If you don't already have the ggplot2 package, you'll have to install


```r
install.packages(ggplot2)
```


Then you can build your ggplots:



```r
library(ggplot2)

ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy))
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-2-1.png" height="400px" /&gt;
 
  

---
### Pseudocode



```r
ggplot(data = &lt;DATA&gt;) + 
  &lt;GEOM_FUNCTION&gt;(mapping = aes(&lt;MAPPINGS&gt;))
```



---
### 3 variables to 1 plot: `colour =`



```r
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, colour = class))
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-4-1.png" height="350px" /&gt;

---
### 3 variables to 1 plot: `size =`


```r
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, size = class))
```

```
## Warning: Using size for a discrete variable is not advised.
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-5-1.png" height="350px" /&gt;



---
### 3 variables to 1 plot: `shape =`


```r
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, shape = class))
```

```
## Warning: The shape palette can deal with a maximum of 6 discrete values
## because more than 6 becomes difficult to discriminate; you have 7.
## Consider specifying shapes manually if you must have them.
```

```
## Warning: Removed 62 rows containing missing values (geom_point).
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-6-1.png" height="350px" /&gt;

More about shapes: [http://www.cookbook-r.com/Graphs/Shapes_and_line_types/](http://www.cookbook-r.com/Graphs/Shapes_and_line_types/)

---
### 3 variables to 1 plot: `facet_wrap()`


```r
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) + 
  facet_wrap(~ class, nrow = 2)
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-7-1.png" height="350px" /&gt;


---
### Geoms ++

![](https://www.rstudio.com/wp-content/uploads/2016/11/ggplot2-cheatsheet-2-1.png)



---
###Axes

```r
bp &lt;- ggplot(PlantGrowth, aes(x=group, y=weight)) +
    geom_boxplot()
bp
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-8-1.png" height="300" /&gt;

---
###Axes



```r
bp + coord_flip()
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-9-1.png" height="300" /&gt;


---
###Axes



```r
bp + scale_x_discrete(breaks=c("ctrl", "trt1", "trt2"),
                      labels=c("Control", "Treat 1", "Treat 2"))
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-10-1.png" height="300" /&gt;


---
###Axes



```r
# Hide x tick marks, labels, and grid lines
bp + scale_x_discrete(breaks=NULL)
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-11-1.png" height="300" /&gt;



---
###Axes



```r
# Hide x tick marks, labels, and grid lines
bp + theme(axis.text.x = element_text(face="bold", color="#993333", 
                           size=14, angle=45),
          axis.text.y = element_text(face="bold", color="#993333", 
                           size=14, angle=45))
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-12-1.png" height="300" /&gt;


---
###Rcolorbrewer

[Sequential, diverging and qualitative colour scales from colorbrewer.org](http://ggplot2.tidyverse.org/reference/scale_brewer.html)

![](https://www.wired.com/wp-content/uploads/2014/10/color-brewer.jpg)

---
###Rcolorbrewer


```r
dsamp &lt;- diamonds[sample(nrow(diamonds), 1000), ]
(d &lt;- ggplot(dsamp, aes(carat, price)) +
  geom_point(aes(colour = clarity)))
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-13-1.png" height="300" /&gt;


---
###Rcolorbrewer


```r
d + scale_colour_brewer()
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-14-1.png" height="300" /&gt;


---
###Rcolorbrewer


```r
d + scale_colour_brewer(palette = "Greens")
```

&lt;img src="methodsfair_files/figure-html/unnamed-chunk-15-1.png" height="300" /&gt;


---
###Rcolorbrewer


```r
?scales::brewer_pal
```



---
### Interactivity! 


```r
library(plotly)
```

```r
dsamp &lt;- diamonds[sample(nrow(diamonds), 1000), ]
d &lt;- ggplot(dsamp, aes(carat, price)) +
  geom_point(aes(colour = clarity))
ggplotly( d + scale_colour_brewer(palette = "Greens"))
```

```
## We recommend that you use the dev version of ggplot2 with `ggplotly()`
## Install it with: `devtools::install_github('hadley/ggplot2')`
```

<div id="20775abf1e12" style="width:504px;height:504px;" class="plotly html-widget"></div>
<script type="application/json" data-for="20775abf1e12">{"x":{"data":[{"x":[1.51,1.35,1.06,3,1.51,0.7,1.2,1.01,0.62],"y":[3734,4643,2239,13203,3497,1058,3011,3484,933],"text":["clarity: I1<br />carat: 1.51<br />price:  3734","clarity: I1<br />carat: 1.35<br />price:  4643","clarity: I1<br />carat: 1.06<br />price:  2239","clarity: I1<br />carat: 3.00<br />price: 13203","clarity: I1<br />carat: 1.51<br />price:  3497","clarity: I1<br />carat: 0.70<br />price:  1058","clarity: I1<br />carat: 1.20<br />price:  3011","clarity: I1<br />carat: 1.01<br />price:  3484","clarity: I1<br />carat: 0.62<br />price:   933"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(247,252,245,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(247,252,245,1)"}},"hoveron":"points","name":"I1","legendgroup":"I1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.83,0.73,0.31,1.02,2.02,1.2,2.02,0.55,0.62,1.05,0.4,1.01,0.73,1.1,0.93,0.53,0.94,1.01,1.32,0.5,0.72,1.04,1.2,0.32,1.02,0.71,1.02,1,0.73,1.52,2.18,2,1.09,1.2,1.01,1.12,1.1,1.2,2.7,0.4,1.5,0.71,1.51,2.01,1.11,0.32,1.2,2.02,0.51,0.31,0.34,1.29,1.01,1.51,2.01,1.5,1.03,0.87,1.03,1.36,0.32,0.59,0.9,0.89,2.4,1,0.38,0.4,0.5,0.5,0.9,1.01,1,1,0.74,2.19,2.52,1.2,1.51,1.2,0.9,0.52,1.23,1.2,2.01,0.91,0.32,2.14,0.88,1.03,1.17,0.57,0.9,1.07,2.04,0.72,0.73,2.04,1.27,0.54,1.22,1.1,0.7,0.39,1.2,1.01,1.01,0.7,1.27,0.4,1.13,1.53,0.98,0.3,1.06,1.27,1.48,1.05,0.32,1.05,2.11,1.27,0.59,0.41,1.01,1.02,1.02,1.51,1.51,1.23,0.7,0.41,0.74,0.72,1,1.23,0.7,0.32,1.14,1.03,1,2.05,1.2,0.74,2.01,1.51,0.59,1.52,1.13,1.5,1.03,0.34,1.6,1.32,0.93,1.11,1.09,1.21,1,2.51,1.73,0.91,1.01,0.5,0.4,0.46,0.56,2.14,1.04,0.54,2.11,2.01],"y":[2840,2218,593,3770,16929,5080,10412,1272,1291,5347,596,3360,2309,5263,3644,1335,3938,3897,7173,1119,1814,3564,5518,421,3313,2482,4459,4032,2504,8127,17841,15485,4264,6140,4921,4641,4158,5373,14341,540,10122,1783,7441,17746,4662,612,5779,11757,1139,435,612,5996,5166,6819,13849,7715,4095,2816,4283,5103,421,1572,3500,3002,17955,4255,633,798,1000,1094,3205,4166,4321,4265,2728,10179,13846,4744,5919,3965,3820,1059,5283,5250,14279,3746,421,18291,3619,4414,4324,1397,3770,4321,15651,2530,1986,16800,4936,1194,5721,4928,1817,746,5609,4497,3932,2058,6403,765,4449,7240,2777,394,3391,4779,6216,4427,517,3457,13701,4660,1195,648,4242,3713,4039,9471,10012,4711,2047,638,2713,2651,4077,5158,2058,454,5005,4038,3199,15857,6006,2761,18674,7292,1229,9781,4294,6306,4586,507,9275,5921,4325,4227,4981,5290,4269,18255,8816,3119,3611,1185,625,1116,1243,17673,4330,1340,18034,12349],"text":["clarity: SI2<br />carat: 0.83<br />price:  2840","clarity: SI2<br />carat: 0.73<br />price:  2218","clarity: SI2<br />carat: 0.31<br />price:   593","clarity: SI2<br />carat: 1.02<br />price:  3770","clarity: SI2<br />carat: 2.02<br />price: 16929","clarity: SI2<br />carat: 1.20<br />price:  5080","clarity: SI2<br />carat: 2.02<br />price: 10412","clarity: SI2<br />carat: 0.55<br />price:  1272","clarity: SI2<br />carat: 0.62<br />price:  1291","clarity: SI2<br />carat: 1.05<br />price:  5347","clarity: SI2<br />carat: 0.40<br />price:   596","clarity: SI2<br />carat: 1.01<br />price:  3360","clarity: SI2<br />carat: 0.73<br />price:  2309","clarity: SI2<br />carat: 1.10<br />price:  5263","clarity: SI2<br />carat: 0.93<br />price:  3644","clarity: SI2<br />carat: 0.53<br />price:  1335","clarity: SI2<br />carat: 0.94<br />price:  3938","clarity: SI2<br />carat: 1.01<br />price:  3897","clarity: SI2<br />carat: 1.32<br />price:  7173","clarity: SI2<br />carat: 0.50<br />price:  1119","clarity: SI2<br />carat: 0.72<br />price:  1814","clarity: SI2<br />carat: 1.04<br />price:  3564","clarity: SI2<br />carat: 1.20<br />price:  5518","clarity: SI2<br />carat: 0.32<br />price:   421","clarity: SI2<br />carat: 1.02<br />price:  3313","clarity: SI2<br />carat: 0.71<br />price:  2482","clarity: SI2<br />carat: 1.02<br />price:  4459","clarity: SI2<br />carat: 1.00<br />price:  4032","clarity: SI2<br />carat: 0.73<br />price:  2504","clarity: SI2<br />carat: 1.52<br />price:  8127","clarity: SI2<br />carat: 2.18<br />price: 17841","clarity: SI2<br />carat: 2.00<br />price: 15485","clarity: SI2<br />carat: 1.09<br />price:  4264","clarity: SI2<br />carat: 1.20<br />price:  6140","clarity: SI2<br />carat: 1.01<br />price:  4921","clarity: SI2<br />carat: 1.12<br />price:  4641","clarity: SI2<br />carat: 1.10<br />price:  4158","clarity: SI2<br />carat: 1.20<br />price:  5373","clarity: SI2<br />carat: 2.70<br />price: 14341","clarity: SI2<br />carat: 0.40<br />price:   540","clarity: SI2<br />carat: 1.50<br />price: 10122","clarity: SI2<br />carat: 0.71<br />price:  1783","clarity: SI2<br />carat: 1.51<br />price:  7441","clarity: SI2<br />carat: 2.01<br />price: 17746","clarity: SI2<br />carat: 1.11<br />price:  4662","clarity: SI2<br />carat: 0.32<br />price:   612","clarity: SI2<br />carat: 1.20<br />price:  5779","clarity: SI2<br />carat: 2.02<br />price: 11757","clarity: SI2<br />carat: 0.51<br />price:  1139","clarity: SI2<br />carat: 0.31<br />price:   435","clarity: SI2<br />carat: 0.34<br />price:   612","clarity: SI2<br />carat: 1.29<br />price:  5996","clarity: SI2<br />carat: 1.01<br />price:  5166","clarity: SI2<br />carat: 1.51<br />price:  6819","clarity: SI2<br />carat: 2.01<br />price: 13849","clarity: SI2<br />carat: 1.50<br />price:  7715","clarity: SI2<br />carat: 1.03<br />price:  4095","clarity: SI2<br />carat: 0.87<br />price:  2816","clarity: SI2<br />carat: 1.03<br />price:  4283","clarity: SI2<br />carat: 1.36<br />price:  5103","clarity: SI2<br />carat: 0.32<br />price:   421","clarity: SI2<br />carat: 0.59<br />price:  1572","clarity: SI2<br />carat: 0.90<br />price:  3500","clarity: SI2<br />carat: 0.89<br />price:  3002","clarity: SI2<br />carat: 2.40<br />price: 17955","clarity: SI2<br />carat: 1.00<br />price:  4255","clarity: SI2<br />carat: 0.38<br />price:   633","clarity: SI2<br />carat: 0.40<br />price:   798","clarity: SI2<br />carat: 0.50<br />price:  1000","clarity: SI2<br />carat: 0.50<br />price:  1094","clarity: SI2<br />carat: 0.90<br />price:  3205","clarity: SI2<br />carat: 1.01<br />price:  4166","clarity: SI2<br />carat: 1.00<br />price:  4321","clarity: SI2<br />carat: 1.00<br />price:  4265","clarity: SI2<br />carat: 0.74<br />price:  2728","clarity: SI2<br />carat: 2.19<br />price: 10179","clarity: SI2<br />carat: 2.52<br />price: 13846","clarity: SI2<br />carat: 1.20<br />price:  4744","clarity: SI2<br />carat: 1.51<br />price:  5919","clarity: SI2<br />carat: 1.20<br />price:  3965","clarity: SI2<br />carat: 0.90<br />price:  3820","clarity: SI2<br />carat: 0.52<br />price:  1059","clarity: SI2<br />carat: 1.23<br />price:  5283","clarity: SI2<br />carat: 1.20<br />price:  5250","clarity: SI2<br />carat: 2.01<br />price: 14279","clarity: SI2<br />carat: 0.91<br />price:  3746","clarity: SI2<br />carat: 0.32<br />price:   421","clarity: SI2<br />carat: 2.14<br />price: 18291","clarity: SI2<br />carat: 0.88<br />price:  3619","clarity: SI2<br />carat: 1.03<br />price:  4414","clarity: SI2<br />carat: 1.17<br />price:  4324","clarity: SI2<br />carat: 0.57<br />price:  1397","clarity: SI2<br />carat: 0.90<br />price:  3770","clarity: SI2<br />carat: 1.07<br />price:  4321","clarity: SI2<br />carat: 2.04<br />price: 15651","clarity: SI2<br />carat: 0.72<br />price:  2530","clarity: SI2<br />carat: 0.73<br />price:  1986","clarity: SI2<br />carat: 2.04<br />price: 16800","clarity: SI2<br />carat: 1.27<br />price:  4936","clarity: SI2<br />carat: 0.54<br />price:  1194","clarity: SI2<br />carat: 1.22<br />price:  5721","clarity: SI2<br />carat: 1.10<br />price:  4928","clarity: SI2<br />carat: 0.70<br />price:  1817","clarity: SI2<br />carat: 0.39<br />price:   746","clarity: SI2<br />carat: 1.20<br />price:  5609","clarity: SI2<br />carat: 1.01<br />price:  4497","clarity: SI2<br />carat: 1.01<br />price:  3932","clarity: SI2<br />carat: 0.70<br />price:  2058","clarity: SI2<br />carat: 1.27<br />price:  6403","clarity: SI2<br />carat: 0.40<br />price:   765","clarity: SI2<br />carat: 1.13<br />price:  4449","clarity: SI2<br />carat: 1.53<br />price:  7240","clarity: SI2<br />carat: 0.98<br />price:  2777","clarity: SI2<br />carat: 0.30<br />price:   394","clarity: SI2<br />carat: 1.06<br />price:  3391","clarity: SI2<br />carat: 1.27<br />price:  4779","clarity: SI2<br />carat: 1.48<br />price:  6216","clarity: SI2<br />carat: 1.05<br />price:  4427","clarity: SI2<br />carat: 0.32<br />price:   517","clarity: SI2<br />carat: 1.05<br />price:  3457","clarity: SI2<br />carat: 2.11<br />price: 13701","clarity: SI2<br />carat: 1.27<br />price:  4660","clarity: SI2<br />carat: 0.59<br />price:  1195","clarity: SI2<br />carat: 0.41<br />price:   648","clarity: SI2<br />carat: 1.01<br />price:  4242","clarity: SI2<br />carat: 1.02<br />price:  3713","clarity: SI2<br />carat: 1.02<br />price:  4039","clarity: SI2<br />carat: 1.51<br />price:  9471","clarity: SI2<br />carat: 1.51<br />price: 10012","clarity: SI2<br />carat: 1.23<br />price:  4711","clarity: SI2<br />carat: 0.70<br />price:  2047","clarity: SI2<br />carat: 0.41<br />price:   638","clarity: SI2<br />carat: 0.74<br />price:  2713","clarity: SI2<br />carat: 0.72<br />price:  2651","clarity: SI2<br />carat: 1.00<br />price:  4077","clarity: SI2<br />carat: 1.23<br />price:  5158","clarity: SI2<br />carat: 0.70<br />price:  2058","clarity: SI2<br />carat: 0.32<br />price:   454","clarity: SI2<br />carat: 1.14<br />price:  5005","clarity: SI2<br />carat: 1.03<br />price:  4038","clarity: SI2<br />carat: 1.00<br />price:  3199","clarity: SI2<br />carat: 2.05<br />price: 15857","clarity: SI2<br />carat: 1.20<br />price:  6006","clarity: SI2<br />carat: 0.74<br />price:  2761","clarity: SI2<br />carat: 2.01<br />price: 18674","clarity: SI2<br />carat: 1.51<br />price:  7292","clarity: SI2<br />carat: 0.59<br />price:  1229","clarity: SI2<br />carat: 1.52<br />price:  9781","clarity: SI2<br />carat: 1.13<br />price:  4294","clarity: SI2<br />carat: 1.50<br />price:  6306","clarity: SI2<br />carat: 1.03<br />price:  4586","clarity: SI2<br />carat: 0.34<br />price:   507","clarity: SI2<br />carat: 1.60<br />price:  9275","clarity: SI2<br />carat: 1.32<br />price:  5921","clarity: SI2<br />carat: 0.93<br />price:  4325","clarity: SI2<br />carat: 1.11<br />price:  4227","clarity: SI2<br />carat: 1.09<br />price:  4981","clarity: SI2<br />carat: 1.21<br />price:  5290","clarity: SI2<br />carat: 1.00<br />price:  4269","clarity: SI2<br />carat: 2.51<br />price: 18255","clarity: SI2<br />carat: 1.73<br />price:  8816","clarity: SI2<br />carat: 0.91<br />price:  3119","clarity: SI2<br />carat: 1.01<br />price:  3611","clarity: SI2<br />carat: 0.50<br />price:  1185","clarity: SI2<br />carat: 0.40<br />price:   625","clarity: SI2<br />carat: 0.46<br />price:  1116","clarity: SI2<br />carat: 0.56<br />price:  1243","clarity: SI2<br />carat: 2.14<br />price: 17673","clarity: SI2<br />carat: 1.04<br />price:  4330","clarity: SI2<br />carat: 0.54<br />price:  1340","clarity: SI2<br />carat: 2.11<br />price: 18034","clarity: SI2<br />carat: 2.01<br />price: 12349"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(229,245,224,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(229,245,224,1)"}},"hoveron":"points","name":"SI2","legendgroup":"SI2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.72,0.86,1.25,0.37,0.71,0.54,1.05,0.9,0.54,0.71,0.3,0.31,1.22,0.84,0.39,0.59,0.7,0.36,0.8,1.06,0.93,0.5,1.54,0.5,1.57,0.34,0.52,1,0.3,0.7,1.19,0.52,0.7,1.53,0.41,1,1,0.32,0.37,0.31,0.33,0.56,0.73,0.81,1,1.27,1,1,1.51,1.58,1.72,0.71,1.03,1.02,1.57,0.59,0.42,0.9,0.75,0.76,0.4,0.72,0.51,0.32,2.03,0.91,1.5,0.43,0.7,0.5,1.19,0.43,1.2,0.5,0.55,1.02,0.7,0.6,0.75,0.72,1,0.33,0.35,0.7,1.2,1.02,0.79,1.01,1.06,0.73,0.78,0.76,0.33,0.3,1.03,1.15,1.98,0.85,0.83,0.59,0.42,1,0.7,1.26,1.01,0.7,0.51,0.58,0.6,0.72,0.32,1.01,1.21,0.96,0.31,1.06,0.73,1.2,0.5,1.2,1.02,0.5,0.3,0.72,0.4,1,0.52,0.53,0.9,1.42,0.3,0.76,0.43,0.36,0.51,0.73,1.14,0.75,0.34,1.51,0.9,0.34,1.04,1.3,1,1.12,1.02,0.32,2,1.21,0.51,0.32,0.57,1.03,1.03,0.3,1,1.22,0.31,0.34,0.36,1.04,1.2,1.26,0.9,0.58,1.23,1.01,0.7,1.16,0.54,0.3,0.4,1.19,0.43,1.01,0.47,0.36,0.74,1.01,0.54,0.73,1.01,1.01,2,1.06,1.05,1.14,1.54,1.01,0.7,1.02,1.28,0.41,1.01,0.72,0.3,0.76,1.5,2.13,0.74,1.7,1.52,1.09,0.34,0.7,0.71,1.32,1.06,0.89,0.3,0.27,0.31,0.92,0.72,1.01,0.31,0.73,1.09,0.9,0.4,1.91,1.08,0.3,0.32,0.75,0.7,0.4,0.5,1.04,1.01,1.56,0.71,1.01,0.51,1,2.01,0.32,0.82,0.52,1.2,1.01,1.2,0.32,0.93,1.04,0.7,0.51,1,0.9,0.71,1.01,0.59,0.77,0.31,1.63,1.52,2.08,1.18,2.03,0.51,1.2,0.54,0.91,1.02,0.7],"y":[2285,3372,8226,586,2400,1395,5361,4304,1595,2258,526,507,5368,3265,684,1835,2401,648,3420,4646,4297,1048,11209,1190,11040,714,1605,4218,447,2575,6526,1343,2264,11370,876,4149,4995,461,451,573,743,1394,3089,3514,5622,6635,6196,5030,9234,8057,9266,2181,4520,5493,9555,1793,810,3282,3260,2961,756,2804,1222,756,18630,4211,12030,754,1848,1235,4777,1064,6129,1140,1668,5055,1815,1402,2966,3048,4452,702,601,2268,6526,4476,3107,5815,4872,2737,3019,3003,579,709,5551,4637,14581,3503,2311,1652,773,3634,1974,5631,5132,2250,1020,1421,1367,1785,589,4989,6892,4849,698,4774,2581,4234,1279,4831,4924,1178,526,2314,798,5051,1389,1014,3669,7157,447,2706,1016,770,1053,2510,5501,2383,626,7585,4443,584,4316,7985,5390,6262,5255,720,17760,6190,1321,468,1309,4424,4406,574,4805,5233,493,626,810,4659,6675,7903,3997,1758,6509,5273,3199,6366,1944,709,737,5698,774,5090,1086,663,2872,4775,1327,2564,5654,5113,12196,5113,5821,5458,7349,2323,2475,4718,5920,738,5132,2857,552,2579,8371,13370,2648,10680,14426,5950,473,2273,2274,7162,5188,3190,475,383,571,4258,3242,4766,544,2320,4784,4381,687,13367,4333,417,612,2811,2980,855,1623,4423,4672,10642,2547,4771,1318,6020,17849,449,3133,1073,7463,5206,7074,432,4229,4980,2010,872,4574,3734,2352,4989,1633,3218,593,12910,12183,17469,5412,15322,1442,6451,1693,4434,5522,2147],"text":["clarity: SI1<br />carat: 0.72<br />price:  2285","clarity: SI1<br />carat: 0.86<br />price:  3372","clarity: SI1<br />carat: 1.25<br />price:  8226","clarity: SI1<br />carat: 0.37<br />price:   586","clarity: SI1<br />carat: 0.71<br />price:  2400","clarity: SI1<br />carat: 0.54<br />price:  1395","clarity: SI1<br />carat: 1.05<br />price:  5361","clarity: SI1<br />carat: 0.90<br />price:  4304","clarity: SI1<br />carat: 0.54<br />price:  1595","clarity: SI1<br />carat: 0.71<br />price:  2258","clarity: SI1<br />carat: 0.30<br />price:   526","clarity: SI1<br />carat: 0.31<br />price:   507","clarity: SI1<br />carat: 1.22<br />price:  5368","clarity: SI1<br />carat: 0.84<br />price:  3265","clarity: SI1<br />carat: 0.39<br />price:   684","clarity: SI1<br />carat: 0.59<br />price:  1835","clarity: SI1<br />carat: 0.70<br />price:  2401","clarity: SI1<br />carat: 0.36<br />price:   648","clarity: SI1<br />carat: 0.80<br />price:  3420","clarity: SI1<br />carat: 1.06<br />price:  4646","clarity: SI1<br />carat: 0.93<br />price:  4297","clarity: SI1<br />carat: 0.50<br />price:  1048","clarity: SI1<br />carat: 1.54<br />price: 11209","clarity: SI1<br />carat: 0.50<br />price:  1190","clarity: SI1<br />carat: 1.57<br />price: 11040","clarity: SI1<br />carat: 0.34<br />price:   714","clarity: SI1<br />carat: 0.52<br />price:  1605","clarity: SI1<br />carat: 1.00<br />price:  4218","clarity: SI1<br />carat: 0.30<br />price:   447","clarity: SI1<br />carat: 0.70<br />price:  2575","clarity: SI1<br />carat: 1.19<br />price:  6526","clarity: SI1<br />carat: 0.52<br />price:  1343","clarity: SI1<br />carat: 0.70<br />price:  2264","clarity: SI1<br />carat: 1.53<br />price: 11370","clarity: SI1<br />carat: 0.41<br />price:   876","clarity: SI1<br />carat: 1.00<br />price:  4149","clarity: SI1<br />carat: 1.00<br />price:  4995","clarity: SI1<br />carat: 0.32<br />price:   461","clarity: SI1<br />carat: 0.37<br />price:   451","clarity: SI1<br />carat: 0.31<br />price:   573","clarity: SI1<br />carat: 0.33<br />price:   743","clarity: SI1<br />carat: 0.56<br />price:  1394","clarity: SI1<br />carat: 0.73<br />price:  3089","clarity: SI1<br />carat: 0.81<br />price:  3514","clarity: SI1<br />carat: 1.00<br />price:  5622","clarity: SI1<br />carat: 1.27<br />price:  6635","clarity: SI1<br />carat: 1.00<br />price:  6196","clarity: SI1<br />carat: 1.00<br />price:  5030","clarity: SI1<br />carat: 1.51<br />price:  9234","clarity: SI1<br />carat: 1.58<br />price:  8057","clarity: SI1<br />carat: 1.72<br />price:  9266","clarity: SI1<br />carat: 0.71<br />price:  2181","clarity: SI1<br />carat: 1.03<br />price:  4520","clarity: SI1<br />carat: 1.02<br />price:  5493","clarity: SI1<br />carat: 1.57<br />price:  9555","clarity: SI1<br />carat: 0.59<br />price:  1793","clarity: SI1<br />carat: 0.42<br />price:   810","clarity: SI1<br />carat: 0.90<br />price:  3282","clarity: SI1<br />carat: 0.75<br />price:  3260","clarity: SI1<br />carat: 0.76<br />price:  2961","clarity: SI1<br />carat: 0.40<br />price:   756","clarity: SI1<br />carat: 0.72<br />price:  2804","clarity: SI1<br />carat: 0.51<br />price:  1222","clarity: SI1<br />carat: 0.32<br />price:   756","clarity: SI1<br />carat: 2.03<br />price: 18630","clarity: SI1<br />carat: 0.91<br />price:  4211","clarity: SI1<br />carat: 1.50<br />price: 12030","clarity: SI1<br />carat: 0.43<br />price:   754","clarity: SI1<br />carat: 0.70<br />price:  1848","clarity: SI1<br />carat: 0.50<br />price:  1235","clarity: SI1<br />carat: 1.19<br />price:  4777","clarity: SI1<br />carat: 0.43<br />price:  1064","clarity: SI1<br />carat: 1.20<br />price:  6129","clarity: SI1<br />carat: 0.50<br />price:  1140","clarity: SI1<br />carat: 0.55<br />price:  1668","clarity: SI1<br />carat: 1.02<br />price:  5055","clarity: SI1<br />carat: 0.70<br />price:  1815","clarity: SI1<br />carat: 0.60<br />price:  1402","clarity: SI1<br />carat: 0.75<br />price:  2966","clarity: SI1<br />carat: 0.72<br />price:  3048","clarity: SI1<br />carat: 1.00<br />price:  4452","clarity: SI1<br />carat: 0.33<br />price:   702","clarity: SI1<br />carat: 0.35<br />price:   601","clarity: SI1<br />carat: 0.70<br />price:  2268","clarity: SI1<br />carat: 1.20<br />price:  6526","clarity: SI1<br />carat: 1.02<br />price:  4476","clarity: SI1<br />carat: 0.79<br />price:  3107","clarity: SI1<br />carat: 1.01<br />price:  5815","clarity: SI1<br />carat: 1.06<br />price:  4872","clarity: SI1<br />carat: 0.73<br />price:  2737","clarity: SI1<br />carat: 0.78<br />price:  3019","clarity: SI1<br />carat: 0.76<br />price:  3003","clarity: SI1<br />carat: 0.33<br />price:   579","clarity: SI1<br />carat: 0.30<br />price:   709","clarity: SI1<br />carat: 1.03<br />price:  5551","clarity: SI1<br />carat: 1.15<br />price:  4637","clarity: SI1<br />carat: 1.98<br />price: 14581","clarity: SI1<br />carat: 0.85<br />price:  3503","clarity: SI1<br />carat: 0.83<br />price:  2311","clarity: SI1<br />carat: 0.59<br />price:  1652","clarity: SI1<br />carat: 0.42<br />price:   773","clarity: SI1<br />carat: 1.00<br />price:  3634","clarity: SI1<br />carat: 0.70<br />price:  1974","clarity: SI1<br />carat: 1.26<br />price:  5631","clarity: SI1<br />carat: 1.01<br />price:  5132","clarity: SI1<br />carat: 0.70<br />price:  2250","clarity: SI1<br />carat: 0.51<br />price:  1020","clarity: SI1<br />carat: 0.58<br />price:  1421","clarity: SI1<br />carat: 0.60<br />price:  1367","clarity: SI1<br />carat: 0.72<br />price:  1785","clarity: SI1<br />carat: 0.32<br />price:   589","clarity: SI1<br />carat: 1.01<br />price:  4989","clarity: SI1<br />carat: 1.21<br />price:  6892","clarity: SI1<br />carat: 0.96<br />price:  4849","clarity: SI1<br />carat: 0.31<br />price:   698","clarity: SI1<br />carat: 1.06<br />price:  4774","clarity: SI1<br />carat: 0.73<br />price:  2581","clarity: SI1<br />carat: 1.20<br />price:  4234","clarity: SI1<br />carat: 0.50<br />price:  1279","clarity: SI1<br />carat: 1.20<br />price:  4831","clarity: SI1<br />carat: 1.02<br />price:  4924","clarity: SI1<br />carat: 0.50<br />price:  1178","clarity: SI1<br />carat: 0.30<br />price:   526","clarity: SI1<br />carat: 0.72<br />price:  2314","clarity: SI1<br />carat: 0.40<br />price:   798","clarity: SI1<br />carat: 1.00<br />price:  5051","clarity: SI1<br />carat: 0.52<br />price:  1389","clarity: SI1<br />carat: 0.53<br />price:  1014","clarity: SI1<br />carat: 0.90<br />price:  3669","clarity: SI1<br />carat: 1.42<br />price:  7157","clarity: SI1<br />carat: 0.30<br />price:   447","clarity: SI1<br />carat: 0.76<br />price:  2706","clarity: SI1<br />carat: 0.43<br />price:  1016","clarity: SI1<br />carat: 0.36<br />price:   770","clarity: SI1<br />carat: 0.51<br />price:  1053","clarity: SI1<br />carat: 0.73<br />price:  2510","clarity: SI1<br />carat: 1.14<br />price:  5501","clarity: SI1<br />carat: 0.75<br />price:  2383","clarity: SI1<br />carat: 0.34<br />price:   626","clarity: SI1<br />carat: 1.51<br />price:  7585","clarity: SI1<br />carat: 0.90<br />price:  4443","clarity: SI1<br />carat: 0.34<br />price:   584","clarity: SI1<br />carat: 1.04<br />price:  4316","clarity: SI1<br />carat: 1.30<br />price:  7985","clarity: SI1<br />carat: 1.00<br />price:  5390","clarity: SI1<br />carat: 1.12<br />price:  6262","clarity: SI1<br />carat: 1.02<br />price:  5255","clarity: SI1<br />carat: 0.32<br />price:   720","clarity: SI1<br />carat: 2.00<br />price: 17760","clarity: SI1<br />carat: 1.21<br />price:  6190","clarity: SI1<br />carat: 0.51<br />price:  1321","clarity: SI1<br />carat: 0.32<br />price:   468","clarity: SI1<br />carat: 0.57<br />price:  1309","clarity: SI1<br />carat: 1.03<br />price:  4424","clarity: SI1<br />carat: 1.03<br />price:  4406","clarity: SI1<br />carat: 0.30<br />price:   574","clarity: SI1<br />carat: 1.00<br />price:  4805","clarity: SI1<br />carat: 1.22<br />price:  5233","clarity: SI1<br />carat: 0.31<br />price:   493","clarity: SI1<br />carat: 0.34<br />price:   626","clarity: SI1<br />carat: 0.36<br />price:   810","clarity: SI1<br />carat: 1.04<br />price:  4659","clarity: SI1<br />carat: 1.20<br />price:  6675","clarity: SI1<br />carat: 1.26<br />price:  7903","clarity: SI1<br />carat: 0.90<br />price:  3997","clarity: SI1<br />carat: 0.58<br />price:  1758","clarity: SI1<br />carat: 1.23<br />price:  6509","clarity: SI1<br />carat: 1.01<br />price:  5273","clarity: SI1<br />carat: 0.70<br />price:  3199","clarity: SI1<br />carat: 1.16<br />price:  6366","clarity: SI1<br />carat: 0.54<br />price:  1944","clarity: SI1<br />carat: 0.30<br />price:   709","clarity: SI1<br />carat: 0.40<br />price:   737","clarity: SI1<br />carat: 1.19<br />price:  5698","clarity: SI1<br />carat: 0.43<br />price:   774","clarity: SI1<br />carat: 1.01<br />price:  5090","clarity: SI1<br />carat: 0.47<br />price:  1086","clarity: SI1<br />carat: 0.36<br />price:   663","clarity: SI1<br />carat: 0.74<br />price:  2872","clarity: SI1<br />carat: 1.01<br />price:  4775","clarity: SI1<br />carat: 0.54<br />price:  1327","clarity: SI1<br />carat: 0.73<br />price:  2564","clarity: SI1<br />carat: 1.01<br />price:  5654","clarity: SI1<br />carat: 1.01<br />price:  5113","clarity: SI1<br />carat: 2.00<br />price: 12196","clarity: SI1<br />carat: 1.06<br />price:  5113","clarity: SI1<br />carat: 1.05<br />price:  5821","clarity: SI1<br />carat: 1.14<br />price:  5458","clarity: SI1<br />carat: 1.54<br />price:  7349","clarity: SI1<br />carat: 1.01<br />price:  2323","clarity: SI1<br />carat: 0.70<br />price:  2475","clarity: SI1<br />carat: 1.02<br />price:  4718","clarity: SI1<br />carat: 1.28<br />price:  5920","clarity: SI1<br />carat: 0.41<br />price:   738","clarity: SI1<br />carat: 1.01<br />price:  5132","clarity: SI1<br />carat: 0.72<br />price:  2857","clarity: SI1<br />carat: 0.30<br />price:   552","clarity: SI1<br />carat: 0.76<br />price:  2579","clarity: SI1<br />carat: 1.50<br />price:  8371","clarity: SI1<br />carat: 2.13<br />price: 13370","clarity: SI1<br />carat: 0.74<br />price:  2648","clarity: SI1<br />carat: 1.70<br />price: 10680","clarity: SI1<br />carat: 1.52<br />price: 14426","clarity: SI1<br />carat: 1.09<br />price:  5950","clarity: SI1<br />carat: 0.34<br />price:   473","clarity: SI1<br />carat: 0.70<br />price:  2273","clarity: SI1<br />carat: 0.71<br />price:  2274","clarity: SI1<br />carat: 1.32<br />price:  7162","clarity: SI1<br />carat: 1.06<br />price:  5188","clarity: SI1<br />carat: 0.89<br />price:  3190","clarity: SI1<br />carat: 0.30<br />price:   475","clarity: SI1<br />carat: 0.27<br />price:   383","clarity: SI1<br />carat: 0.31<br />price:   571","clarity: SI1<br />carat: 0.92<br />price:  4258","clarity: SI1<br />carat: 0.72<br />price:  3242","clarity: SI1<br />carat: 1.01<br />price:  4766","clarity: SI1<br />carat: 0.31<br />price:   544","clarity: SI1<br />carat: 0.73<br />price:  2320","clarity: SI1<br />carat: 1.09<br />price:  4784","clarity: SI1<br />carat: 0.90<br />price:  4381","clarity: SI1<br />carat: 0.40<br />price:   687","clarity: SI1<br />carat: 1.91<br />price: 13367","clarity: SI1<br />carat: 1.08<br />price:  4333","clarity: SI1<br />carat: 0.30<br />price:   417","clarity: SI1<br />carat: 0.32<br />price:   612","clarity: SI1<br />carat: 0.75<br />price:  2811","clarity: SI1<br />carat: 0.70<br />price:  2980","clarity: SI1<br />carat: 0.40<br />price:   855","clarity: SI1<br />carat: 0.50<br />price:  1623","clarity: SI1<br />carat: 1.04<br />price:  4423","clarity: SI1<br />carat: 1.01<br />price:  4672","clarity: SI1<br />carat: 1.56<br />price: 10642","clarity: SI1<br />carat: 0.71<br />price:  2547","clarity: SI1<br />carat: 1.01<br />price:  4771","clarity: SI1<br />carat: 0.51<br />price:  1318","clarity: SI1<br />carat: 1.00<br />price:  6020","clarity: SI1<br />carat: 2.01<br />price: 17849","clarity: SI1<br />carat: 0.32<br />price:   449","clarity: SI1<br />carat: 0.82<br />price:  3133","clarity: SI1<br />carat: 0.52<br />price:  1073","clarity: SI1<br />carat: 1.20<br />price:  7463","clarity: SI1<br />carat: 1.01<br />price:  5206","clarity: SI1<br />carat: 1.20<br />price:  7074","clarity: SI1<br />carat: 0.32<br />price:   432","clarity: SI1<br />carat: 0.93<br />price:  4229","clarity: SI1<br />carat: 1.04<br />price:  4980","clarity: SI1<br />carat: 0.70<br />price:  2010","clarity: SI1<br />carat: 0.51<br />price:   872","clarity: SI1<br />carat: 1.00<br />price:  4574","clarity: SI1<br />carat: 0.90<br />price:  3734","clarity: SI1<br />carat: 0.71<br />price:  2352","clarity: SI1<br />carat: 1.01<br />price:  4989","clarity: SI1<br />carat: 0.59<br />price:  1633","clarity: SI1<br />carat: 0.77<br />price:  3218","clarity: SI1<br />carat: 0.31<br />price:   593","clarity: SI1<br />carat: 1.63<br />price: 12910","clarity: SI1<br />carat: 1.52<br />price: 12183","clarity: SI1<br />carat: 2.08<br />price: 17469","clarity: SI1<br />carat: 1.18<br />price:  5412","clarity: SI1<br />carat: 2.03<br />price: 15322","clarity: SI1<br />carat: 0.51<br />price:  1442","clarity: SI1<br />carat: 1.20<br />price:  6451","clarity: SI1<br />carat: 0.54<br />price:  1693","clarity: SI1<br />carat: 0.91<br />price:  4434","clarity: SI1<br />carat: 1.02<br />price:  5522","clarity: SI1<br />carat: 0.70<br />price:  2147"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,233,192,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(199,233,192,1)"}},"hoveron":"points","name":"SI1","legendgroup":"SI1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.31,0.54,1.06,0.35,1.22,0.5,1.56,1.68,0.44,0.7,0.32,1.5,0.36,0.41,1.51,0.54,0.42,0.7,0.32,0.37,0.28,0.32,0.7,1.7,0.51,1.01,1.08,0.4,1.31,0.3,0.35,0.71,1.22,0.71,0.73,0.3,0.44,1.58,0.5,0.71,0.55,0.31,0.9,0.7,1.08,1.51,0.41,0.28,0.51,1.01,1.11,1.5,0.42,0.3,0.51,1.15,0.71,1.04,1.21,0.3,0.3,0.54,0.32,1.01,0.85,0.32,1.03,0.3,1.82,0.92,0.51,0.59,0.72,0.74,1.05,1.26,0.9,0.77,0.52,0.3,0.3,0.4,0.8,0.31,0.9,1.62,0.4,0.38,1,1.5,1.01,0.58,1.04,0.34,0.33,0.3,0.52,0.36,0.81,0.35,1.73,1,0.56,0.3,1.02,1.5,1.83,0.7,0.96,1.03,0.7,0.81,0.31,0.32,0.57,1.08,1,1.51,1.05,1.04,1.02,1.01,0.91,0.81,0.34,1.01,0.37,0.57,0.24,0.7,0.5,0.4,0.5,0.73,0.32,0.36,1.54,0.36,1.59,0.3,1.22,1.01,0.35,1.01,1.06,0.33,0.3,1.03,1.2,1.36,0.31,1.27,1.2,0.5,1.35,0.3,0.31,0.39,0.71,1.06,0.5,0.4,0.37,0.34,0.34,0.91,0.7,0.73,0.31,1.5,0.5,0.7,0.3,0.34,0.5,0.42,0.52,1.59,0.33,1.02,1.02,1.23,0.5,0.91,0.71,1,1.15,1.6,1,0.5,1.03,0.32,0.31,0.6,1,1.07,0.9,0.32,0.34,0.51,0.34,0.38,1.3,0.39,1.34,0.63,1,0.9,0.32,1.54,0.56,0.52,1.2,0.36,1.7,0.37,0.32,1,0.35,0.31,1.24,1.5,0.54,0.53,0.5,0.31,0.58,0.32],"y":[872,1993,7160,906,8733,1387,8107,13427,869,2657,720,13892,789,1087,10411,1754,1087,2767,720,746,394,720,2437,11888,1882,6250,6096,1010,6438,658,767,2647,8575,2762,3980,605,1003,10338,1746,2137,1270,680,3859,2755,7683,7476,627,567,1716,5599,7740,12526,902,670,1343,5120,2588,6232,8097,844,573,1836,645,5099,3871,564,6072,608,14749,5989,1438,1705,1944,2560,8451,8256,4173,2275,1720,621,710,966,4043,802,2857,10501,912,771,6871,8780,6399,1798,5451,686,928,911,1828,789,3084,984,16807,6189,1388,605,6169,12014,18525,2253,3658,7726,2464,3397,942,505,1728,7501,4984,12947,6914,6342,7643,6533,4077,4314,596,4592,833,1851,419,2539,1178,814,1554,2762,720,789,8537,726,10752,389,8783,6944,706,6271,5783,666,710,5826,6333,9279,567,8549,4839,1654,8062,526,749,942,2954,6399,1629,895,894,765,689,4759,2240,2098,642,7177,1378,2671,605,537,1436,1024,1720,11333,781,6412,6597,8486,1397,4309,3234,6720,6929,10497,5069,1746,6751,561,435,1861,6048,5820,3629,645,765,1343,856,1026,9216,983,10431,1871,6937,4309,561,11708,1619,1767,7318,568,15797,749,523,4539,706,435,5412,13135,1754,1857,1624,625,1636,449],"text":["clarity: VS2<br />carat: 0.31<br />price:   872","clarity: VS2<br />carat: 0.54<br />price:  1993","clarity: VS2<br />carat: 1.06<br />price:  7160","clarity: VS2<br />carat: 0.35<br />price:   906","clarity: VS2<br />carat: 1.22<br />price:  8733","clarity: VS2<br />carat: 0.50<br />price:  1387","clarity: VS2<br />carat: 1.56<br />price:  8107","clarity: VS2<br />carat: 1.68<br />price: 13427","clarity: VS2<br />carat: 0.44<br />price:   869","clarity: VS2<br />carat: 0.70<br />price:  2657","clarity: VS2<br />carat: 0.32<br />price:   720","clarity: VS2<br />carat: 1.50<br />price: 13892","clarity: VS2<br />carat: 0.36<br />price:   789","clarity: VS2<br />carat: 0.41<br />price:  1087","clarity: VS2<br />carat: 1.51<br />price: 10411","clarity: VS2<br />carat: 0.54<br />price:  1754","clarity: VS2<br />carat: 0.42<br />price:  1087","clarity: VS2<br />carat: 0.70<br />price:  2767","clarity: VS2<br />carat: 0.32<br />price:   720","clarity: VS2<br />carat: 0.37<br />price:   746","clarity: VS2<br />carat: 0.28<br />price:   394","clarity: VS2<br />carat: 0.32<br />price:   720","clarity: VS2<br />carat: 0.70<br />price:  2437","clarity: VS2<br />carat: 1.70<br />price: 11888","clarity: VS2<br />carat: 0.51<br />price:  1882","clarity: VS2<br />carat: 1.01<br />price:  6250","clarity: VS2<br />carat: 1.08<br />price:  6096","clarity: VS2<br />carat: 0.40<br />price:  1010","clarity: VS2<br />carat: 1.31<br />price:  6438","clarity: VS2<br />carat: 0.30<br />price:   658","clarity: VS2<br />carat: 0.35<br />price:   767","clarity: VS2<br />carat: 0.71<br />price:  2647","clarity: VS2<br />carat: 1.22<br />price:  8575","clarity: VS2<br />carat: 0.71<br />price:  2762","clarity: VS2<br />carat: 0.73<br />price:  3980","clarity: VS2<br />carat: 0.30<br />price:   605","clarity: VS2<br />carat: 0.44<br />price:  1003","clarity: VS2<br />carat: 1.58<br />price: 10338","clarity: VS2<br />carat: 0.50<br />price:  1746","clarity: VS2<br />carat: 0.71<br />price:  2137","clarity: VS2<br />carat: 0.55<br />price:  1270","clarity: VS2<br />carat: 0.31<br />price:   680","clarity: VS2<br />carat: 0.90<br />price:  3859","clarity: VS2<br />carat: 0.70<br />price:  2755","clarity: VS2<br />carat: 1.08<br />price:  7683","clarity: VS2<br />carat: 1.51<br />price:  7476","clarity: VS2<br />carat: 0.41<br />price:   627","clarity: VS2<br />carat: 0.28<br />price:   567","clarity: VS2<br />carat: 0.51<br />price:  1716","clarity: VS2<br />carat: 1.01<br />price:  5599","clarity: VS2<br />carat: 1.11<br />price:  7740","clarity: VS2<br />carat: 1.50<br />price: 12526","clarity: VS2<br />carat: 0.42<br />price:   902","clarity: VS2<br />carat: 0.30<br />price:   670","clarity: VS2<br />carat: 0.51<br />price:  1343","clarity: VS2<br />carat: 1.15<br />price:  5120","clarity: VS2<br />carat: 0.71<br />price:  2588","clarity: VS2<br />carat: 1.04<br />price:  6232","clarity: VS2<br />carat: 1.21<br />price:  8097","clarity: VS2<br />carat: 0.30<br />price:   844","clarity: VS2<br />carat: 0.30<br />price:   573","clarity: VS2<br />carat: 0.54<br />price:  1836","clarity: VS2<br />carat: 0.32<br />price:   645","clarity: VS2<br />carat: 1.01<br />price:  5099","clarity: VS2<br />carat: 0.85<br />price:  3871","clarity: VS2<br />carat: 0.32<br />price:   564","clarity: VS2<br />carat: 1.03<br />price:  6072","clarity: VS2<br />carat: 0.30<br />price:   608","clarity: VS2<br />carat: 1.82<br />price: 14749","clarity: VS2<br />carat: 0.92<br />price:  5989","clarity: VS2<br />carat: 0.51<br />price:  1438","clarity: VS2<br />carat: 0.59<br />price:  1705","clarity: VS2<br />carat: 0.72<br />price:  1944","clarity: VS2<br />carat: 0.74<br />price:  2560","clarity: VS2<br />carat: 1.05<br />price:  8451","clarity: VS2<br />carat: 1.26<br />price:  8256","clarity: VS2<br />carat: 0.90<br />price:  4173","clarity: VS2<br />carat: 0.77<br />price:  2275","clarity: VS2<br />carat: 0.52<br />price:  1720","clarity: VS2<br />carat: 0.30<br />price:   621","clarity: VS2<br />carat: 0.30<br />price:   710","clarity: VS2<br />carat: 0.40<br />price:   966","clarity: VS2<br />carat: 0.80<br />price:  4043","clarity: VS2<br />carat: 0.31<br />price:   802","clarity: VS2<br />carat: 0.90<br />price:  2857","clarity: VS2<br />carat: 1.62<br />price: 10501","clarity: VS2<br />carat: 0.40<br />price:   912","clarity: VS2<br />carat: 0.38<br />price:   771","clarity: VS2<br />carat: 1.00<br />price:  6871","clarity: VS2<br />carat: 1.50<br />price:  8780","clarity: VS2<br />carat: 1.01<br />price:  6399","clarity: VS2<br />carat: 0.58<br />price:  1798","clarity: VS2<br />carat: 1.04<br />price:  5451","clarity: VS2<br />carat: 0.34<br />price:   686","clarity: VS2<br />carat: 0.33<br />price:   928","clarity: VS2<br />carat: 0.30<br />price:   911","clarity: VS2<br />carat: 0.52<br />price:  1828","clarity: VS2<br />carat: 0.36<br />price:   789","clarity: VS2<br />carat: 0.81<br />price:  3084","clarity: VS2<br />carat: 0.35<br />price:   984","clarity: VS2<br />carat: 1.73<br />price: 16807","clarity: VS2<br />carat: 1.00<br />price:  6189","clarity: VS2<br />carat: 0.56<br />price:  1388","clarity: VS2<br />carat: 0.30<br />price:   605","clarity: VS2<br />carat: 1.02<br />price:  6169","clarity: VS2<br />carat: 1.50<br />price: 12014","clarity: VS2<br />carat: 1.83<br />price: 18525","clarity: VS2<br />carat: 0.70<br />price:  2253","clarity: VS2<br />carat: 0.96<br />price:  3658","clarity: VS2<br />carat: 1.03<br />price:  7726","clarity: VS2<br />carat: 0.70<br />price:  2464","clarity: VS2<br />carat: 0.81<br />price:  3397","clarity: VS2<br />carat: 0.31<br />price:   942","clarity: VS2<br />carat: 0.32<br />price:   505","clarity: VS2<br />carat: 0.57<br />price:  1728","clarity: VS2<br />carat: 1.08<br />price:  7501","clarity: VS2<br />carat: 1.00<br />price:  4984","clarity: VS2<br />carat: 1.51<br />price: 12947","clarity: VS2<br />carat: 1.05<br />price:  6914","clarity: VS2<br />carat: 1.04<br />price:  6342","clarity: VS2<br />carat: 1.02<br />price:  7643","clarity: VS2<br />carat: 1.01<br />price:  6533","clarity: VS2<br />carat: 0.91<br />price:  4077","clarity: VS2<br />carat: 0.81<br />price:  4314","clarity: VS2<br />carat: 0.34<br />price:   596","clarity: VS2<br />carat: 1.01<br />price:  4592","clarity: VS2<br />carat: 0.37<br />price:   833","clarity: VS2<br />carat: 0.57<br />price:  1851","clarity: VS2<br />carat: 0.24<br />price:   419","clarity: VS2<br />carat: 0.70<br />price:  2539","clarity: VS2<br />carat: 0.50<br />price:  1178","clarity: VS2<br />carat: 0.40<br />price:   814","clarity: VS2<br />carat: 0.50<br />price:  1554","clarity: VS2<br />carat: 0.73<br />price:  2762","clarity: VS2<br />carat: 0.32<br />price:   720","clarity: VS2<br />carat: 0.36<br />price:   789","clarity: VS2<br />carat: 1.54<br />price:  8537","clarity: VS2<br />carat: 0.36<br />price:   726","clarity: VS2<br />carat: 1.59<br />price: 10752","clarity: VS2<br />carat: 0.30<br />price:   389","clarity: VS2<br />carat: 1.22<br />price:  8783","clarity: VS2<br />carat: 1.01<br />price:  6944","clarity: VS2<br />carat: 0.35<br />price:   706","clarity: VS2<br />carat: 1.01<br />price:  6271","clarity: VS2<br />carat: 1.06<br />price:  5783","clarity: VS2<br />carat: 0.33<br />price:   666","clarity: VS2<br />carat: 0.30<br />price:   710","clarity: VS2<br />carat: 1.03<br />price:  5826","clarity: VS2<br />carat: 1.20<br />price:  6333","clarity: VS2<br />carat: 1.36<br />price:  9279","clarity: VS2<br />carat: 0.31<br />price:   567","clarity: VS2<br />carat: 1.27<br />price:  8549","clarity: VS2<br />carat: 1.20<br />price:  4839","clarity: VS2<br />carat: 0.50<br />price:  1654","clarity: VS2<br />carat: 1.35<br />price:  8062","clarity: VS2<br />carat: 0.30<br />price:   526","clarity: VS2<br />carat: 0.31<br />price:   749","clarity: VS2<br />carat: 0.39<br />price:   942","clarity: VS2<br />carat: 0.71<br />price:  2954","clarity: VS2<br />carat: 1.06<br />price:  6399","clarity: VS2<br />carat: 0.50<br />price:  1629","clarity: VS2<br />carat: 0.40<br />price:   895","clarity: VS2<br />carat: 0.37<br />price:   894","clarity: VS2<br />carat: 0.34<br />price:   765","clarity: VS2<br />carat: 0.34<br />price:   689","clarity: VS2<br />carat: 0.91<br />price:  4759","clarity: VS2<br />carat: 0.70<br />price:  2240","clarity: VS2<br />carat: 0.73<br />price:  2098","clarity: VS2<br />carat: 0.31<br />price:   642","clarity: VS2<br />carat: 1.50<br />price:  7177","clarity: VS2<br />carat: 0.50<br />price:  1378","clarity: VS2<br />carat: 0.70<br />price:  2671","clarity: VS2<br />carat: 0.30<br />price:   605","clarity: VS2<br />carat: 0.34<br />price:   537","clarity: VS2<br />carat: 0.50<br />price:  1436","clarity: VS2<br />carat: 0.42<br />price:  1024","clarity: VS2<br />carat: 0.52<br />price:  1720","clarity: VS2<br />carat: 1.59<br />price: 11333","clarity: VS2<br />carat: 0.33<br />price:   781","clarity: VS2<br />carat: 1.02<br />price:  6412","clarity: VS2<br />carat: 1.02<br />price:  6597","clarity: VS2<br />carat: 1.23<br />price:  8486","clarity: VS2<br />carat: 0.50<br />price:  1397","clarity: VS2<br />carat: 0.91<br />price:  4309","clarity: VS2<br />carat: 0.71<br />price:  3234","clarity: VS2<br />carat: 1.00<br />price:  6720","clarity: VS2<br />carat: 1.15<br />price:  6929","clarity: VS2<br />carat: 1.60<br />price: 10497","clarity: VS2<br />carat: 1.00<br />price:  5069","clarity: VS2<br />carat: 0.50<br />price:  1746","clarity: VS2<br />carat: 1.03<br />price:  6751","clarity: VS2<br />carat: 0.32<br />price:   561","clarity: VS2<br />carat: 0.31<br />price:   435","clarity: VS2<br />carat: 0.60<br />price:  1861","clarity: VS2<br />carat: 1.00<br />price:  6048","clarity: VS2<br />carat: 1.07<br />price:  5820","clarity: VS2<br />carat: 0.90<br />price:  3629","clarity: VS2<br />carat: 0.32<br />price:   645","clarity: VS2<br />carat: 0.34<br />price:   765","clarity: VS2<br />carat: 0.51<br />price:  1343","clarity: VS2<br />carat: 0.34<br />price:   856","clarity: VS2<br />carat: 0.38<br />price:  1026","clarity: VS2<br />carat: 1.30<br />price:  9216","clarity: VS2<br />carat: 0.39<br />price:   983","clarity: VS2<br />carat: 1.34<br />price: 10431","clarity: VS2<br />carat: 0.63<br />price:  1871","clarity: VS2<br />carat: 1.00<br />price:  6937","clarity: VS2<br />carat: 0.90<br />price:  4309","clarity: VS2<br />carat: 0.32<br />price:   561","clarity: VS2<br />carat: 1.54<br />price: 11708","clarity: VS2<br />carat: 0.56<br />price:  1619","clarity: VS2<br />carat: 0.52<br />price:  1767","clarity: VS2<br />carat: 1.20<br />price:  7318","clarity: VS2<br />carat: 0.36<br />price:   568","clarity: VS2<br />carat: 1.70<br />price: 15797","clarity: VS2<br />carat: 0.37<br />price:   749","clarity: VS2<br />carat: 0.32<br />price:   523","clarity: VS2<br />carat: 1.00<br />price:  4539","clarity: VS2<br />carat: 0.35<br />price:   706","clarity: VS2<br />carat: 0.31<br />price:   435","clarity: VS2<br />carat: 1.24<br />price:  5412","clarity: VS2<br />carat: 1.50<br />price: 13135","clarity: VS2<br />carat: 0.54<br />price:  1754","clarity: VS2<br />carat: 0.53<br />price:  1857","clarity: VS2<br />carat: 0.50<br />price:  1624","clarity: VS2<br />carat: 0.31<br />price:   625","clarity: VS2<br />carat: 0.58<br />price:  1636","clarity: VS2<br />carat: 0.32<br />price:   449"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(161,217,155,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(161,217,155,1)"}},"hoveron":"points","name":"VS2","legendgroup":"VS2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.23,0.56,1.23,1.01,0.26,0.26,0.25,1.02,0.4,0.42,0.31,0.3,0.4,0.3,0.3,1.56,1.58,1.26,0.31,0.31,0.91,0.42,0.72,0.35,0.5,0.76,0.32,0.41,0.72,0.5,0.33,1.03,0.32,0.23,1.2,1.01,0.23,0.74,0.4,1.62,2.28,0.26,0.4,0.24,0.51,0.55,0.38,1.41,0.46,0.73,0.72,0.82,1.01,0.4,0.38,0.73,0.77,0.32,0.31,0.5,0.31,0.4,1,0.65,0.5,1.04,0.31,0.37,1,0.5,1.27,0.71,0.5,0.77,1.51,1.12,0.39,0.38,0.77,0.5,1.21,0.32,1.01,0.57,0.42,1,1.29,0.4,1.5,0.85,0.37,0.42,0.42,0.63,1.03,0.3,0.7,0.41,0.92,0.38,1.61,0.32,1.07,0.36,1,0.3,1.52,0.51,0.39,0.37,1.21,1.02,1,1.51,0.71,2.01,1.44,1.21,0.31,0.3,0.3,0.27,1.01,0.71,0.54,1.7,0.33,1.05,0.31,1.05,0.77,1.27,1.01,0.38,1.2,0.3,1.28,0.73,0.32,1.2,0.3,1.14],"y":[391,1712,8293,7665,453,578,445,7324,890,1176,429,742,1053,612,526,13079,12530,7691,412,877,4566,984,3619,706,1446,3894,874,1153,3274,1838,666,4874,648,376,6167,6529,586,3389,1125,16112,16592,580,1053,373,1438,1832,1067,9752,1834,3209,3083,3513,7589,951,891,3327,4407,972,692,1750,607,967,5853,1744,1624,7015,523,925,6465,984,8235,2946,1370,2798,10215,5058,958,1069,2736,1624,7279,505,7465,1965,1235,5385,13485,1050,14234,4373,1030,921,1103,2554,6864,703,2453,976,3489,1069,17414,972,7440,1002,7056,605,10497,1583,1170,746,8879,8157,8020,13348,2085,15185,12093,10685,877,605,612,432,5904,1932,1770,12737,1006,5555,942,6766,3074,5885,6441,921,8580,411,12061,2037,639,10367,675,9090],"text":["clarity: VS1<br />carat: 0.23<br />price:   391","clarity: VS1<br />carat: 0.56<br />price:  1712","clarity: VS1<br />carat: 1.23<br />price:  8293","clarity: VS1<br />carat: 1.01<br />price:  7665","clarity: VS1<br />carat: 0.26<br />price:   453","clarity: VS1<br />carat: 0.26<br />price:   578","clarity: VS1<br />carat: 0.25<br />price:   445","clarity: VS1<br />carat: 1.02<br />price:  7324","clarity: VS1<br />carat: 0.40<br />price:   890","clarity: VS1<br />carat: 0.42<br />price:  1176","clarity: VS1<br />carat: 0.31<br />price:   429","clarity: VS1<br />carat: 0.30<br />price:   742","clarity: VS1<br />carat: 0.40<br />price:  1053","clarity: VS1<br />carat: 0.30<br />price:   612","clarity: VS1<br />carat: 0.30<br />price:   526","clarity: VS1<br />carat: 1.56<br />price: 13079","clarity: VS1<br />carat: 1.58<br />price: 12530","clarity: VS1<br />carat: 1.26<br />price:  7691","clarity: VS1<br />carat: 0.31<br />price:   412","clarity: VS1<br />carat: 0.31<br />price:   877","clarity: VS1<br />carat: 0.91<br />price:  4566","clarity: VS1<br />carat: 0.42<br />price:   984","clarity: VS1<br />carat: 0.72<br />price:  3619","clarity: VS1<br />carat: 0.35<br />price:   706","clarity: VS1<br />carat: 0.50<br />price:  1446","clarity: VS1<br />carat: 0.76<br />price:  3894","clarity: VS1<br />carat: 0.32<br />price:   874","clarity: VS1<br />carat: 0.41<br />price:  1153","clarity: VS1<br />carat: 0.72<br />price:  3274","clarity: VS1<br />carat: 0.50<br />price:  1838","clarity: VS1<br />carat: 0.33<br />price:   666","clarity: VS1<br />carat: 1.03<br />price:  4874","clarity: VS1<br />carat: 0.32<br />price:   648","clarity: VS1<br />carat: 0.23<br />price:   376","clarity: VS1<br />carat: 1.20<br />price:  6167","clarity: VS1<br />carat: 1.01<br />price:  6529","clarity: VS1<br />carat: 0.23<br />price:   586","clarity: VS1<br />carat: 0.74<br />price:  3389","clarity: VS1<br />carat: 0.40<br />price:  1125","clarity: VS1<br />carat: 1.62<br />price: 16112","clarity: VS1<br />carat: 2.28<br />price: 16592","clarity: VS1<br />carat: 0.26<br />price:   580","clarity: VS1<br />carat: 0.40<br />price:  1053","clarity: VS1<br />carat: 0.24<br />price:   373","clarity: VS1<br />carat: 0.51<br />price:  1438","clarity: VS1<br />carat: 0.55<br />price:  1832","clarity: VS1<br />carat: 0.38<br />price:  1067","clarity: VS1<br />carat: 1.41<br />price:  9752","clarity: VS1<br />carat: 0.46<br />price:  1834","clarity: VS1<br />carat: 0.73<br />price:  3209","clarity: VS1<br />carat: 0.72<br />price:  3083","clarity: VS1<br />carat: 0.82<br />price:  3513","clarity: VS1<br />carat: 1.01<br />price:  7589","clarity: VS1<br />carat: 0.40<br />price:   951","clarity: VS1<br />carat: 0.38<br />price:   891","clarity: VS1<br />carat: 0.73<br />price:  3327","clarity: VS1<br />carat: 0.77<br />price:  4407","clarity: VS1<br />carat: 0.32<br />price:   972","clarity: VS1<br />carat: 0.31<br />price:   692","clarity: VS1<br />carat: 0.50<br />price:  1750","clarity: VS1<br />carat: 0.31<br />price:   607","clarity: VS1<br />carat: 0.40<br />price:   967","clarity: VS1<br />carat: 1.00<br />price:  5853","clarity: VS1<br />carat: 0.65<br />price:  1744","clarity: VS1<br />carat: 0.50<br />price:  1624","clarity: VS1<br />carat: 1.04<br />price:  7015","clarity: VS1<br />carat: 0.31<br />price:   523","clarity: VS1<br />carat: 0.37<br />price:   925","clarity: VS1<br />carat: 1.00<br />price:  6465","clarity: VS1<br />carat: 0.50<br />price:   984","clarity: VS1<br />carat: 1.27<br />price:  8235","clarity: VS1<br />carat: 0.71<br />price:  2946","clarity: VS1<br />carat: 0.50<br />price:  1370","clarity: VS1<br />carat: 0.77<br />price:  2798","clarity: VS1<br />carat: 1.51<br />price: 10215","clarity: VS1<br />carat: 1.12<br />price:  5058","clarity: VS1<br />carat: 0.39<br />price:   958","clarity: VS1<br />carat: 0.38<br />price:  1069","clarity: VS1<br />carat: 0.77<br />price:  2736","clarity: VS1<br />carat: 0.50<br />price:  1624","clarity: VS1<br />carat: 1.21<br />price:  7279","clarity: VS1<br />carat: 0.32<br />price:   505","clarity: VS1<br />carat: 1.01<br />price:  7465","clarity: VS1<br />carat: 0.57<br />price:  1965","clarity: VS1<br />carat: 0.42<br />price:  1235","clarity: VS1<br />carat: 1.00<br />price:  5385","clarity: VS1<br />carat: 1.29<br />price: 13485","clarity: VS1<br />carat: 0.40<br />price:  1050","clarity: VS1<br />carat: 1.50<br />price: 14234","clarity: VS1<br />carat: 0.85<br />price:  4373","clarity: VS1<br />carat: 0.37<br />price:  1030","clarity: VS1<br />carat: 0.42<br />price:   921","clarity: VS1<br />carat: 0.42<br />price:  1103","clarity: VS1<br />carat: 0.63<br />price:  2554","clarity: VS1<br />carat: 1.03<br />price:  6864","clarity: VS1<br />carat: 0.30<br />price:   703","clarity: VS1<br />carat: 0.70<br />price:  2453","clarity: VS1<br />carat: 0.41<br />price:   976","clarity: VS1<br />carat: 0.92<br />price:  3489","clarity: VS1<br />carat: 0.38<br />price:  1069","clarity: VS1<br />carat: 1.61<br />price: 17414","clarity: VS1<br />carat: 0.32<br />price:   972","clarity: VS1<br />carat: 1.07<br />price:  7440","clarity: VS1<br />carat: 0.36<br />price:  1002","clarity: VS1<br />carat: 1.00<br />price:  7056","clarity: VS1<br />carat: 0.30<br />price:   605","clarity: VS1<br />carat: 1.52<br />price: 10497","clarity: VS1<br />carat: 0.51<br />price:  1583","clarity: VS1<br />carat: 0.39<br />price:  1170","clarity: VS1<br />carat: 0.37<br />price:   746","clarity: VS1<br />carat: 1.21<br />price:  8879","clarity: VS1<br />carat: 1.02<br />price:  8157","clarity: VS1<br />carat: 1.00<br />price:  8020","clarity: VS1<br />carat: 1.51<br />price: 13348","clarity: VS1<br />carat: 0.71<br />price:  2085","clarity: VS1<br />carat: 2.01<br />price: 15185","clarity: VS1<br />carat: 1.44<br />price: 12093","clarity: VS1<br />carat: 1.21<br />price: 10685","clarity: VS1<br />carat: 0.31<br />price:   877","clarity: VS1<br />carat: 0.30<br />price:   605","clarity: VS1<br />carat: 0.30<br />price:   612","clarity: VS1<br />carat: 0.27<br />price:   432","clarity: VS1<br />carat: 1.01<br />price:  5904","clarity: VS1<br />carat: 0.71<br />price:  1932","clarity: VS1<br />carat: 0.54<br />price:  1770","clarity: VS1<br />carat: 1.70<br />price: 12737","clarity: VS1<br />carat: 0.33<br />price:  1006","clarity: VS1<br />carat: 1.05<br />price:  5555","clarity: VS1<br />carat: 0.31<br />price:   942","clarity: VS1<br />carat: 1.05<br />price:  6766","clarity: VS1<br />carat: 0.77<br />price:  3074","clarity: VS1<br />carat: 1.27<br />price:  5885","clarity: VS1<br />carat: 1.01<br />price:  6441","clarity: VS1<br />carat: 0.38<br />price:   921","clarity: VS1<br />carat: 1.20<br />price:  8580","clarity: VS1<br />carat: 0.30<br />price:   411","clarity: VS1<br />carat: 1.28<br />price: 12061","clarity: VS1<br />carat: 0.73<br />price:  2037","clarity: VS1<br />carat: 0.32<br />price:   639","clarity: VS1<br />carat: 1.20<br />price: 10367","clarity: VS1<br />carat: 0.30<br />price:   675","clarity: VS1<br />carat: 1.14<br />price:  9090"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(116,196,118,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(116,196,118,1)"}},"hoveron":"points","name":"VS1","legendgroup":"VS1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.12,0.41,1.63,0.7,0.51,0.7,0.54,0.24,0.34,0.23,0.3,0.32,0.29,1.31,0.39,0.3,1.01,0.34,0.53,0.61,0.5,0.47,0.56,0.78,0.64,0.55,0.5,0.26,1.55,1.22,0.25,1.01,0.32,0.63,0.5,0.4,0.7,0.56,0.23,0.36,1.01,0.43,1.31,0.32,0.31,0.31,0.51,1.71,0.52,0.38,0.72,0.32,0.74,0.33,0.32,0.86,0.24,0.33,0.72,0.4,1.01,1.01,1.02,0.3,0.32,0.33,0.54,0.51,0.4,0.31,0.72,0.33,0.26,0.41,0.9,1.7,0.3,0.25,1.5,1.51,1.14,0.26,0.8,0.31],"y":[10236,1061,12174,3644,2093,2932,2848,471,765,472,638,816,607,11255,902,581,7862,735,1914,3336,1715,953,2441,3581,2060,1668,2105,517,18188,11003,575,8532,854,2442,1715,974,2710,2676,458,794,11442,976,13168,842,907,625,1800,14866,1911,1069,3780,739,2944,802,936,3544,552,730,3250,994,7665,8569,8774,684,1008,752,1914,1953,1240,625,3740,579,599,1192,6302,11481,730,575,7840,9334,8743,769,4740,755],"text":["clarity: VVS2<br />carat: 1.12<br />price: 10236","clarity: VVS2<br />carat: 0.41<br />price:  1061","clarity: VVS2<br />carat: 1.63<br />price: 12174","clarity: VVS2<br />carat: 0.70<br />price:  3644","clarity: VVS2<br />carat: 0.51<br />price:  2093","clarity: VVS2<br />carat: 0.70<br />price:  2932","clarity: VVS2<br />carat: 0.54<br />price:  2848","clarity: VVS2<br />carat: 0.24<br />price:   471","clarity: VVS2<br />carat: 0.34<br />price:   765","clarity: VVS2<br />carat: 0.23<br />price:   472","clarity: VVS2<br />carat: 0.30<br />price:   638","clarity: VVS2<br />carat: 0.32<br />price:   816","clarity: VVS2<br />carat: 0.29<br />price:   607","clarity: VVS2<br />carat: 1.31<br />price: 11255","clarity: VVS2<br />carat: 0.39<br />price:   902","clarity: VVS2<br />carat: 0.30<br />price:   581","clarity: VVS2<br />carat: 1.01<br />price:  7862","clarity: VVS2<br />carat: 0.34<br />price:   735","clarity: VVS2<br />carat: 0.53<br />price:  1914","clarity: VVS2<br />carat: 0.61<br />price:  3336","clarity: VVS2<br />carat: 0.50<br />price:  1715","clarity: VVS2<br />carat: 0.47<br />price:   953","clarity: VVS2<br />carat: 0.56<br />price:  2441","clarity: VVS2<br />carat: 0.78<br />price:  3581","clarity: VVS2<br />carat: 0.64<br />price:  2060","clarity: VVS2<br />carat: 0.55<br />price:  1668","clarity: VVS2<br />carat: 0.50<br />price:  2105","clarity: VVS2<br />carat: 0.26<br />price:   517","clarity: VVS2<br />carat: 1.55<br />price: 18188","clarity: VVS2<br />carat: 1.22<br />price: 11003","clarity: VVS2<br />carat: 0.25<br />price:   575","clarity: VVS2<br />carat: 1.01<br />price:  8532","clarity: VVS2<br />carat: 0.32<br />price:   854","clarity: VVS2<br />carat: 0.63<br />price:  2442","clarity: VVS2<br />carat: 0.50<br />price:  1715","clarity: VVS2<br />carat: 0.40<br />price:   974","clarity: VVS2<br />carat: 0.70<br />price:  2710","clarity: VVS2<br />carat: 0.56<br />price:  2676","clarity: VVS2<br />carat: 0.23<br />price:   458","clarity: VVS2<br />carat: 0.36<br />price:   794","clarity: VVS2<br />carat: 1.01<br />price: 11442","clarity: VVS2<br />carat: 0.43<br />price:   976","clarity: VVS2<br />carat: 1.31<br />price: 13168","clarity: VVS2<br />carat: 0.32<br />price:   842","clarity: VVS2<br />carat: 0.31<br />price:   907","clarity: VVS2<br />carat: 0.31<br />price:   625","clarity: VVS2<br />carat: 0.51<br />price:  1800","clarity: VVS2<br />carat: 1.71<br />price: 14866","clarity: VVS2<br />carat: 0.52<br />price:  1911","clarity: VVS2<br />carat: 0.38<br />price:  1069","clarity: VVS2<br />carat: 0.72<br />price:  3780","clarity: VVS2<br />carat: 0.32<br />price:   739","clarity: VVS2<br />carat: 0.74<br />price:  2944","clarity: VVS2<br />carat: 0.33<br />price:   802","clarity: VVS2<br />carat: 0.32<br />price:   936","clarity: VVS2<br />carat: 0.86<br />price:  3544","clarity: VVS2<br />carat: 0.24<br />price:   552","clarity: VVS2<br />carat: 0.33<br />price:   730","clarity: VVS2<br />carat: 0.72<br />price:  3250","clarity: VVS2<br />carat: 0.40<br />price:   994","clarity: VVS2<br />carat: 1.01<br />price:  7665","clarity: VVS2<br />carat: 1.01<br />price:  8569","clarity: VVS2<br />carat: 1.02<br />price:  8774","clarity: VVS2<br />carat: 0.30<br />price:   684","clarity: VVS2<br />carat: 0.32<br />price:  1008","clarity: VVS2<br />carat: 0.33<br />price:   752","clarity: VVS2<br />carat: 0.54<br />price:  1914","clarity: VVS2<br />carat: 0.51<br />price:  1953","clarity: VVS2<br />carat: 0.40<br />price:  1240","clarity: VVS2<br />carat: 0.31<br />price:   625","clarity: VVS2<br />carat: 0.72<br />price:  3740","clarity: VVS2<br />carat: 0.33<br />price:   579","clarity: VVS2<br />carat: 0.26<br />price:   599","clarity: VVS2<br />carat: 0.41<br />price:  1192","clarity: VVS2<br />carat: 0.90<br />price:  6302","clarity: VVS2<br />carat: 1.70<br />price: 11481","clarity: VVS2<br />carat: 0.30<br />price:   730","clarity: VVS2<br />carat: 0.25<br />price:   575","clarity: VVS2<br />carat: 1.50<br />price:  7840","clarity: VVS2<br />carat: 1.51<br />price:  9334","clarity: VVS2<br />carat: 1.14<br />price:  8743","clarity: VVS2<br />carat: 0.26<br />price:   769","clarity: VVS2<br />carat: 0.80<br />price:  4740","clarity: VVS2<br />carat: 0.31<br />price:   755"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(65,171,93,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(65,171,93,1)"}},"hoveron":"points","name":"VVS2","legendgroup":"VVS2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.42,0.57,0.3,0.37,0.35,0.43,0.6,0.41,0.31,1.21,0.31,0.41,0.24,0.53,0.31,1.02,0.72,0.34,0.32,0.26,0.23,1.28,0.31,0.31,0.3,0.56,0.58,0.42,0.41,0.65,0.29,0.5,1.24,0.3,0.25,0.5,0.51,0.74,1,0.46,0.62,0.24,0.32,0.41,1.16,0.3,1.21,0.26,0.73,0.31,0.23,0.25,0.31,0.32,0.32,0.31,0.3,0.35,0.45,0.41,1.03],"y":[1179,1949,873,1406,1167,1207,4172,1123,816,17192,755,1076,449,1775,840,8485,3708,1107,730,814,478,11147,789,975,814,1580,2256,969,1431,4022,607,1883,15026,753,577,1966,2317,3061,6183,1898,1871,485,973,1582,13595,878,11175,599,4716,897,484,740,761,867,1080,907,857,1071,1297,1356,11538],"text":["clarity: VVS1<br />carat: 0.42<br />price:  1179","clarity: VVS1<br />carat: 0.57<br />price:  1949","clarity: VVS1<br />carat: 0.30<br />price:   873","clarity: VVS1<br />carat: 0.37<br />price:  1406","clarity: VVS1<br />carat: 0.35<br />price:  1167","clarity: VVS1<br />carat: 0.43<br />price:  1207","clarity: VVS1<br />carat: 0.60<br />price:  4172","clarity: VVS1<br />carat: 0.41<br />price:  1123","clarity: VVS1<br />carat: 0.31<br />price:   816","clarity: VVS1<br />carat: 1.21<br />price: 17192","clarity: VVS1<br />carat: 0.31<br />price:   755","clarity: VVS1<br />carat: 0.41<br />price:  1076","clarity: VVS1<br />carat: 0.24<br />price:   449","clarity: VVS1<br />carat: 0.53<br />price:  1775","clarity: VVS1<br />carat: 0.31<br />price:   840","clarity: VVS1<br />carat: 1.02<br />price:  8485","clarity: VVS1<br />carat: 0.72<br />price:  3708","clarity: VVS1<br />carat: 0.34<br />price:  1107","clarity: VVS1<br />carat: 0.32<br />price:   730","clarity: VVS1<br />carat: 0.26<br />price:   814","clarity: VVS1<br />carat: 0.23<br />price:   478","clarity: VVS1<br />carat: 1.28<br />price: 11147","clarity: VVS1<br />carat: 0.31<br />price:   789","clarity: VVS1<br />carat: 0.31<br />price:   975","clarity: VVS1<br />carat: 0.30<br />price:   814","clarity: VVS1<br />carat: 0.56<br />price:  1580","clarity: VVS1<br />carat: 0.58<br />price:  2256","clarity: VVS1<br />carat: 0.42<br />price:   969","clarity: VVS1<br />carat: 0.41<br />price:  1431","clarity: VVS1<br />carat: 0.65<br />price:  4022","clarity: VVS1<br />carat: 0.29<br />price:   607","clarity: VVS1<br />carat: 0.50<br />price:  1883","clarity: VVS1<br />carat: 1.24<br />price: 15026","clarity: VVS1<br />carat: 0.30<br />price:   753","clarity: VVS1<br />carat: 0.25<br />price:   577","clarity: VVS1<br />carat: 0.50<br />price:  1966","clarity: VVS1<br />carat: 0.51<br />price:  2317","clarity: VVS1<br />carat: 0.74<br />price:  3061","clarity: VVS1<br />carat: 1.00<br />price:  6183","clarity: VVS1<br />carat: 0.46<br />price:  1898","clarity: VVS1<br />carat: 0.62<br />price:  1871","clarity: VVS1<br />carat: 0.24<br />price:   485","clarity: VVS1<br />carat: 0.32<br />price:   973","clarity: VVS1<br />carat: 0.41<br />price:  1582","clarity: VVS1<br />carat: 1.16<br />price: 13595","clarity: VVS1<br />carat: 0.30<br />price:   878","clarity: VVS1<br />carat: 1.21<br />price: 11175","clarity: VVS1<br />carat: 0.26<br />price:   599","clarity: VVS1<br />carat: 0.73<br />price:  4716","clarity: VVS1<br />carat: 0.31<br />price:   897","clarity: VVS1<br />carat: 0.23<br />price:   484","clarity: VVS1<br />carat: 0.25<br />price:   740","clarity: VVS1<br />carat: 0.31<br />price:   761","clarity: VVS1<br />carat: 0.32<br />price:   867","clarity: VVS1<br />carat: 0.32<br />price:  1080","clarity: VVS1<br />carat: 0.31<br />price:   907","clarity: VVS1<br />carat: 0.30<br />price:   857","clarity: VVS1<br />carat: 0.35<br />price:  1071","clarity: VVS1<br />carat: 0.45<br />price:  1297","clarity: VVS1<br />carat: 0.41<br />price:  1356","clarity: VVS1<br />carat: 1.03<br />price: 11538"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(35,139,69,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(35,139,69,1)"}},"hoveron":"points","name":"VVS1","legendgroup":"VVS1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.3,0.54,0.34,0.55,0.31,0.24,0.32,0.31,0.42,0.32,0.41,0.31,0.59,0.56,0.46,0.7,1.04,1,0.36,0.76,0.4,0.35,0.32,0.34,0.31,0.28,0.59,0.35,0.72,0.64,0.27,0.56,0.4,0.53,0.24,1.02,1.01,1.24],"y":[956,2096,695,2120,789,552,898,891,1216,533,1100,988,2632,4025,1987,3403,11269,9867,1368,4223,945,1254,1020,1276,891,787,4161,868,3614,2960,587,2157,1229,2372,449,8624,9451,10508],"text":["clarity: IF<br />carat: 0.30<br />price:   956","clarity: IF<br />carat: 0.54<br />price:  2096","clarity: IF<br />carat: 0.34<br />price:   695","clarity: IF<br />carat: 0.55<br />price:  2120","clarity: IF<br />carat: 0.31<br />price:   789","clarity: IF<br />carat: 0.24<br />price:   552","clarity: IF<br />carat: 0.32<br />price:   898","clarity: IF<br />carat: 0.31<br />price:   891","clarity: IF<br />carat: 0.42<br />price:  1216","clarity: IF<br />carat: 0.32<br />price:   533","clarity: IF<br />carat: 0.41<br />price:  1100","clarity: IF<br />carat: 0.31<br />price:   988","clarity: IF<br />carat: 0.59<br />price:  2632","clarity: IF<br />carat: 0.56<br />price:  4025","clarity: IF<br />carat: 0.46<br />price:  1987","clarity: IF<br />carat: 0.70<br />price:  3403","clarity: IF<br />carat: 1.04<br />price: 11269","clarity: IF<br />carat: 1.00<br />price:  9867","clarity: IF<br />carat: 0.36<br />price:  1368","clarity: IF<br />carat: 0.76<br />price:  4223","clarity: IF<br />carat: 0.40<br />price:   945","clarity: IF<br />carat: 0.35<br />price:  1254","clarity: IF<br />carat: 0.32<br />price:  1020","clarity: IF<br />carat: 0.34<br />price:  1276","clarity: IF<br />carat: 0.31<br />price:   891","clarity: IF<br />carat: 0.28<br />price:   787","clarity: IF<br />carat: 0.59<br />price:  4161","clarity: IF<br />carat: 0.35<br />price:   868","clarity: IF<br />carat: 0.72<br />price:  3614","clarity: IF<br />carat: 0.64<br />price:  2960","clarity: IF<br />carat: 0.27<br />price:   587","clarity: IF<br />carat: 0.56<br />price:  2157","clarity: IF<br />carat: 0.40<br />price:  1229","clarity: IF<br />carat: 0.53<br />price:  2372","clarity: IF<br />carat: 0.24<br />price:   449","clarity: IF<br />carat: 1.02<br />price:  8624","clarity: IF<br />carat: 1.01<br />price:  9451","clarity: IF<br />carat: 1.24<br />price: 10508"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,90,50,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,90,50,1)"}},"hoveron":"points","name":"IF","legendgroup":"IF","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":23.3059360730594,"r":7.30593607305936,"b":37.2602739726027,"l":54.7945205479452},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[0.0915,3.1385],"ticktext":["1","2","3"],"tickvals":[1,2,3],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"carat","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[-542.05,19589.05],"ticktext":["0","5000","10000","15000"],"tickvals":[0,5000,10000,15000],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"price","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.938132733408324},"annotations":[{"text":"clarity","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest"},"source":"A","attrs":{"207754de7c7d":{"colour":{},"x":{},"y":{},"type":"ggplotly"}},"cur_data":"207754de7c7d","visdat":{"207754de7c7d":["function (y) ","x"]},"config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>

---
###Quick intro to building Shiny apps

Shiny apps allow you to create interactive web apps using R.

You can see an example of a shiny app for interrogating government petition data [here](https://rekarrr.shinyapps.io/trumpPetition/) 

and another one for looking at collisions in London [here](https://rcatlord.shinyapps.io/STATS19_scanner/)

You can use shiny to build relatively flashy-looking things with short time/ effort. For example, [this app](https://rekarrr.shinyapps.io/UKDS_data_dive_prototype/) 
---


###Installing shiny

As usual, you will need to install the package from cran, 


```r
install.packages("shiny")
```

and then load it up in your R session.


```r
library("shiny")
```


---

###Anatomy of a shiny app

2 componenets: 

- ui.R
- server.r 

Optional 3rd: 

- css file (more on this [here](http://shiny.rstudio.com/articles/css.html)) 

---

###Blank example

Here is a shiny app that does nothing, just to illustrate the layout of an app: 


```r
ui &lt;- fluidPage(
  titlePanel("title panel"),

  sidebarLayout(
    sidebarPanel( "sidebar panel"),
    mainPanel("main panel")
  )
)

server &lt;- function(input, output) {
  #this app literally does nothing
}


shinyApp(ui = ui, server = server)
```

---

###Using actual data
####Get data


```r
#get data 
library(jsonlite)
l = readLines("https://petition.parliament.uk/archived/petitions/131215.json", encoding="UTF-8", warn=FALSE)
data1 = fromJSON(l)
signByCountry &lt;- as.data.frame(data1$data$attributes$signatures_by_country) 
```

---

###plotOutput()

`plotOutput("name of plot")`. You can specify plot dimensions, and a whole range of other arguments, which you can read about [here](http://shiny.rstudio.com/reference/shiny/latest/plotOutput.html). 



```r
library(ggplot2)
#here's the ui file
ui &lt;- fluidPage(
  headerPanel('This is a title'), 
  sidebarPanel(
  ), 
  mainPanel(
    #put here that a plot will be placed here called countriesPlot
    plotOutput("coutriesPlot", height = 10000)
  )
)
server &lt;- function(input, output) {
  #create the plot here called countriesPlot
  output$coutriesPlot &lt;- renderPlot({
                                  signByCountry &lt;- transform(signByCountry,  
                                                         name = reorder(name, signature_count)) 
                                  c &lt;- ggplot(signByCountry, 
                                              aes(x = factor(name), y = signature_count)) 
                                  c + geom_bar(stat="identity") + coord_flip() +  
                                     xlab("Name of country") + 
                                     ylab("Number of signatures from country") 
  })
} 
shinyApp(ui = ui, server = server)
```

---

###Add interactivity


```r
#here's the ui file
ui &lt;- fluidPage(
  headerPanel('How many people signed the petition?'), 
  sidebarPanel(
    uiOutput('countrySelector',selected = "United Kingdom") 
  ), 
  mainPanel(
    #put here that a plot will be placed here called countriesPlot
    textOutput("text1")
  )
)
#andhere's the server file
server &lt;- function(input, output) {
  #create a list of options to select
  countryChoices &lt;- sort(unique(as.character(signByCountry$name)))
  #create the drop down menu with name country selector to put in placeholder in UI
  output$countrySelector &lt;- renderUI({
	                          	selectInput("countrySelect", label = "Select country",
					                    choices = as.list(countryChoices), selected = "United Kingdom")
	})
  output$text1 &lt;- renderText({
    df &lt;- signByCountry[which(signByCountry$name==input$countrySelect),]
    paste0("There are ", df$signature_count, " signatures from ", input$countrySelect)
  })
} 
shinyApp(ui = ui, server = server)
```



---

###Maps

You will need to have installed the following packages for interactive mapping:


```r
install.packages("leaflet") #for mapping
install.packages("RColorBrewer") #for getting nice colours for your maps
```

---

###Making a map

To make a map, just load the leaflet library:


```r
library(leaflet)
```

You then create a map with this simple bit of code:


```r
m &lt;- leaflet() %&gt;%
  addTiles()  
```

And just print it:

```r
m  
```

<div id="htmlwidget-264e0876bb912653d711" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-264e0876bb912653d711">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"maxNativeZoom":null,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"continuousWorld":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":null,"unloadInvisibleTiles":null,"updateWhenIdle":null,"detectRetina":false,"reuseTiles":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]}]},"evals":[],"jsHooks":[]}</script>


---

###Adding points manually

You can add a point manually:


```r
m &lt;- leaflet() %&gt;%
  addTiles()  %&gt;% 
  addMarkers(lng=-2.230899, lat=53.464987, popup="You are here")
m  
```

<div id="htmlwidget-5ec87177bc341eccadad" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-5ec87177bc341eccadad">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"maxNativeZoom":null,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"continuousWorld":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":null,"unloadInvisibleTiles":null,"updateWhenIdle":null,"detectRetina":false,"reuseTiles":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[53.464987,-2.230899,null,null,null,{"clickable":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"You are here",null,null,null,null,null,null]}],"limits":{"lat":[53.464987,53.464987],"lng":[-2.230899,-2.230899]}},"evals":[],"jsHooks":[]}</script>


---
###Or many points manually


```r
latitudes = c(53.464987, 53.472726, 53.466649) 
longitudes = c(-2.230899, -2.245481, -2.243421) 
popups = c("You are here", "Here is another point", "Here is another point") 
df = data.frame(latitudes, longitudes, popups)      

m &lt;- leaflet(data = df) %&gt;%
  addTiles()  %&gt;%  
  addMarkers(lng=~longitudes, lat=~latitudes, popup=~popups)
m  
```

<div id="htmlwidget-175211d5fe5dffa313e7" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-175211d5fe5dffa313e7">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"maxNativeZoom":null,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"continuousWorld":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":null,"unloadInvisibleTiles":null,"updateWhenIdle":null,"detectRetina":false,"reuseTiles":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[53.464987,53.472726,53.466649],[-2.230899,-2.245481,-2.243421],null,null,null,{"clickable":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["You are here","Here is another point","Here is another point"],null,null,null,null,null,null]}],"limits":{"lat":[53.464987,53.472726],"lng":[-2.245481,-2.230899]}},"evals":[],"jsHooks":[]}</script>

---
###Change the basemap

You can change the background as well. You can find a list of different basemaps [here](http://leaflet-extras.github.io/leaflet-providers/preview/index.html).


```r
m &lt;- leaflet(data = df) %&gt;%
  addProviderTiles("Stamen.Toner") %&gt;% 
  addMarkers(lng=~longitudes, lat=~latitudes, popup=~popups)
m  
```

<div id="htmlwidget-621bac6cf0549a13dad4" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-621bac6cf0549a13dad4">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Stamen.Toner",null,null,{"errorTileUrl":"","noWrap":false,"zIndex":null,"unloadInvisibleTiles":null,"updateWhenIdle":null,"detectRetina":false,"reuseTiles":false}]},{"method":"addMarkers","args":[[53.464987,53.472726,53.466649],[-2.230899,-2.245481,-2.243421],null,null,null,{"clickable":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["You are here","Here is another point","Here is another point"],null,null,null,null,null,null]}],"limits":{"lat":[53.464987,53.472726],"lng":[-2.245481,-2.230899]}},"evals":[],"jsHooks":[]}</script>

---
###Adding data from elsewhere

You will most likely want to add data to your map form external sources, rather than manually creating points. 

For example, I illustrate here with data from [Manchester Open Data](http://open.manchester.gov.uk/) about public toilets: 


```r
publicToilets &lt;- read.csv("http://www.manchester.gov.uk/open/download/downloads/id/171/public_toilets.csv")
```


---
###Coordinates

First thing we might notice is that the coordinates are in Easting and Northing format, rather than Latitude/ Longitude: 


```r
publicToilets[,8:9]
```

```
##     GeoX   GeoY
## 1 383958 398732
## 2 384245 398416
## 3 383873 398647
## 4 383643 398363
## 5 383950 398449
## 6 383194 397863
## 7 383312 398333
## 8 383923 398633
## 9 383864 398033
```

There is a comprehensive step-by-step tutorial on converting coordinates [here](http://www.alex-singleton.com/R-Tutorial-Materials/7-converting-coordinates.pdf). I'll just briefly demo this here.


---
###Reprojecting coordinates


```r
#the library I'm using here is rgdal
library(rgdal)

#these are the variables for the coordinate system types
bng = "+init=epsg:27700"
latlong = "+init=epsg:4326"

#create coords
coords &lt;- cbind(Easting = as.numeric(as.character(publicToilets$GeoX)),
                Northing = as.numeric(as.character(publicToilets$GeoY)))

# create a SpatialPointsDataFrame
publicToiletsSPDF &lt;- SpatialPointsDataFrame(coords, data = publicToilets, proj4string = CRS(bng))

#reproject with spTransform
publicToiletsSPDF_latlng &lt;- spTransform(publicToiletsSPDF, CRS(latlong))

#extract coords into a column
publicToiletsSPDF_latlng@data$lng &lt;- publicToiletsSPDF_latlng@coords[,1]
publicToiletsSPDF_latlng@data$lat &lt;- publicToiletsSPDF_latlng@coords[,2]
```


---
###Map reprojected coordinates

Now you should have a reprojected spatial points data frame with latitude and longitude, ready to be mapped: 


```r
m &lt;- leaflet(data = publicToiletsSPDF_latlng@data) %&gt;%
  addProviderTiles("Stamen.Toner")  %&gt;%  
  addMarkers(lng=~lng, lat=~lat, popup=~LocationText)
m  
```

<div id="htmlwidget-b89bb0d57f7628bb64fb" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-b89bb0d57f7628bb64fb">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Stamen.Toner",null,null,{"errorTileUrl":"","noWrap":false,"zIndex":null,"unloadInvisibleTiles":null,"updateWhenIdle":null,"detectRetina":false,"reuseTiles":false}]},{"method":"addMarkers","args":[[53.4850564318861,53.4822248449733,53.484289806183,53.4817299678266,53.4825124835665,53.4772215518937,53.4814498552881,53.4841655099042,53.478770680729],[-2.2432186066177,-2.23887763262959,-2.24449513180843,-2.24794619505282,-2.24332459233147,-2.25468500591213,-2.25293226112205,-2.24374093919751,-2.24459897756311],null,null,null,{"clickable":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Corn Exchange","Debenhams","Harvey Nichols","House of Fraser","Manchester Arndale","Museum of Science and Industry","Peoples History Museum","Selfridges and Co","Manchester Town Hall"],null,null,null,null,null,null]}],"limits":{"lat":[53.4772215518937,53.4850564318861],"lng":[-2.25468500591213,-2.23887763262959]}},"evals":[],"jsHooks":[]}</script>



---
###Back to Shiny integration


```r
library(dplyr)
ui &lt;- fluidPage(
  titlePanel("Public Toilets in Manchester"),
  sidebarLayout(
    sidebarPanel( 
      #street address selector goes here 
      uiOutput('streetAddSelector', selected = "Exchange Square")
      ),
    mainPanel(
      #leaflet output goes here
      leafletOutput("map", height = 800)
    )
  )
)
server &lt;- function(input, output) {
  streetAddChoices &lt;- sort(unique(as.character(publicToiletsSPDF_latlng@data$StreetAddress)))
  #create the drop down menu with street address selector to put in placeholder in UI
  output$streetAddSelector &lt;- renderUI({
	                          	selectInput("streetAddSelect", label = "Select street address",
					                    choices = as.list(streetAddChoices), selected = "Exchange Square")
  })
  #filter data based on input
  dataFiltered &lt;- reactive({
    thing &lt;- publicToiletsSPDF_latlng@data %&gt;% filter(StreetAddress %in% input$streetAddSelect)
  })
  #reactive map
  output$map &lt;- renderLeaflet({
    leaflet(data = publicToiletsSPDF_latlng@data) %&gt;%
  addProviderTiles("Stamen.Toner")  %&gt;%  
  addMarkers(lng=~lng, lat=~lat, popup=~LocationText)
    })
  observe({
    leafletProxy("map", data = dataFiltered()) %&gt;% clearMarkers() %&gt;%
      addMarkers(lng=~lng, lat=~lat, popup=~LocationText)
  })
} 
shinyApp(ui = ui, server = server)
```


---
###Questions?

- Reka.Solymosi@manchester.ac.uk
- @r_solymosi
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {window.dispatchEvent(new Event('resize'));});</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
